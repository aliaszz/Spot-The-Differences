<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">

    </style>
</head>
<body>
<canvas id="canvas1" width="150" height="150"></canvas>
<img src="img1.png" id="img1" style="display:none;">
<p id="imgdtData"></p>
<script>
//    window.onload = function(){
//        var c=document.getElementById('canvas1');
//        var ctx=c.getContext("2d");
//        var img=document.getElementById("img1");
//        ctx.drawImage(img,10,10);
//    }
window.onload = function(){
    var canvas = document.getElementById('canvas1');
    var ctx    = canvas.getContext('2d');
    var img    = document.getElementById('img1');
    ctx.drawImage(img, 0, 0);

    var w      = img.naturalWidth;
    var h      = img.naturalHeight;
    var imgdt  = ctx.getImageData(0, 0, w, h);
    var a      = imgdt.data;
    document.getElementById('imgdtData').innerHTML=a;

    for (var k=0; k<a.length; k+=4)
    {
        a[k  ] = 255 - a[k  ];  // R
        a[k+1] = 255 - a[k+1];  // G
        a[k+2] = 255 - a[k+2];  // B
        a[k+3] = 255;           // A
    }

    canvas.width = w;
    canvas.height = h;
    ctx.putImageData(imgdt, 0, 0);
}
</script>
</body>
</html>